----------------------------------------------------------------------------------------------------
module private xml_tokenizer =
-- Advanced Multi-platform Library: XML support
-- XML token reader/writer.
-- Copyright (C) 1999-2003 A && L soft
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
class private c_xml_token_reader =
-- XML token reader.
----------------------------------------------------------------------------------------------------

    ------------------------------------------------------------------------------------------------
    static init =
    -- Initializes the reader and assigns an input stream to it.
    -- If [prefixes] is True, then a name consisting of several parts separated by colons is 
    -- reported as a sequence of [xtok_name] tokens intermixed with [xtok_colon] tokens.
    ------------------------------------------------------------------------------------------------
    begin
      end init;



    ------------------------------------------------------------------------------------------------
    static get_token =
    -- Reads a token from the input.
    -- The text outside elements, within comments and CDATA sections is reported as a sequence of
    -- [xtok_characters] or [xtok_entity] (in text only) tokens.
    -- Line ends are reported only when requested in the [init] procedure.
    ------------------------------------------------------------------------------------------------
    begin
      end get_token;



    ------------------------------------------------------------------------------------------------
    static unget_token =
    -- Returns the last read token to the input (the reader shifts back one token).
    -- This procedure can't be used recursively, i.e. it is not possible to [get_token] two tokens
    -- and then return them both back with [unget_token].
    ------------------------------------------------------------------------------------------------
    begin
      end unget_token;



    ------------------------------------------------------------------------------------------------
    static get_name =
    -- Returns the name associated with the last [xtok_name] or [xtok_entity] token.
    ------------------------------------------------------------------------------------------------
    begin 
      end get_name;



    ------------------------------------------------------------------------------------------------
    static get_string =
    -- Returns the value of the string associated with the last [xtok_string] token.
    ------------------------------------------------------------------------------------------------
    begin
      end get_string;



    ------------------------------------------------------------------------------------------------
    static get_character =
    -- Returns the character associated with the last [xtok_character] token.
    ------------------------------------------------------------------------------------------------
    begin
      end get_character;

    end c_xml_token_reader;



----------------------------------------------------------------------------------------------------
class private c_xml_token_writer =
-- XML token writer.
----------------------------------------------------------------------------------------------------

    ------------------------------------------------------------------------------------------------
    static init = 
    -- Initializes the writer and assigns an output stream to it.
    ------------------------------------------------------------------------------------------------ 
    begin
      end init;



    ------------------------------------------------------------------------------------------------
    static put_token =
    -- Writes a token to the output.
    -- Use following [put_*] procedures to write tokens like [xtok_name], [xtok_string], 
    -- [xtok_entity] and a string of [xtok_character]s. When such token is submited to [put_token], 
    -- [xml_token_output_error] exception is raised.
    --   Line ends are written only when [xtok_lineend] is submited to [put_token] and so do 
    -- whitespaces (for whitespaces use [put_character] instead).
    ------------------------------------------------------------------------------------------------ 
    begin
      end put_token;



    ------------------------------------------------------------------------------------------------
    static put_name =
    -- Writes a name (XTOK_NAME) to the output.
    ------------------------------------------------------------------------------------------------ 
    begin
      end put_name;



    ------------------------------------------------------------------------------------------------
    static put_string =
    -- Writes a string ([xtok_string]) to the output.
    -- [put_string] automatically detects wether to use apostrophees (') or quotes ("). If both are
    -- used in the string, [xml_token_output_error] exception is raised.
    ------------------------------------------------------------------------------------------------ 
    begin
      end put_string;



    ------------------------------------------------------------------------------------------------
    static put_entity =
    -- Writes an entity ([xtok_entity]) to the output.
    ------------------------------------------------------------------------------------------------ 
    begin
      end put_entity;



    ------------------------------------------------------------------------------------------------
    static put_character =
    -- Writes a character to the output.
    ------------------------------------------------------------------------------------------------ 
    begin
      end put_character;



    ------------------------------------------------------------------------------------------------
    static put_characters =
    -- Writes a string of characters to the output.
    ------------------------------------------------------------------------------------------------ 
    begin
      end put_characters;

    end c_xml_token_writer;



----------------------------------------------------------------------------------------------------
procedure xml_is_whitespace =
-- True, if given [token] is a whitespace.
----------------------------------------------------------------------------------------------------
begin
  end xml_is_whitespace;



----------------------------------------------------------------------------------------------------
procedure xml_is_name =
-- True, if given [token] is a Name.
----------------------------------------------------------------------------------------------------
begin
  end xml_is_name;



----------------------------------------------------------------------------------------------------
procedure xml_is_nmtoken =
-- True, if given [token] is an Nmtoken.
----------------------------------------------------------------------------------------------------
begin
  end xml_is_nmtoken;

end xml_tokenizer;